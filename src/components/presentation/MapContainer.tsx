import { useState } from "react";
import { MapMessage } from "../chat/components/messageType/MapMessage";

const data = JSON.stringify({
  type: "FeatureCollection",
  features: [
    {
      type: "Feature",
      properties: {
        name: "St.Pauli \n(They had some unusual Nutella a long time ago)",
      },
      geometry: {
        type: "MultiPolygon",
        coordinates: [
          [
            [
              [9.98362043375599, 53.563765280208294],
              [9.983110034300065, 53.563823362452169],
              [9.98259117657909, 53.563840338946704],
              [9.98175846765171, 53.563834286355579],
              [9.981319322005607, 53.56382802007478],
              [9.98055038901205, 53.563811422129476],
              [9.979537752213725, 53.563789884742128],
              [9.978850346526324, 53.563784051147216],
              [9.978514562642928, 53.563784056915743],
              [9.977667971184353, 53.563780902962705],
              [9.977091725268412, 53.563773161852168],
              [9.977090972894167, 53.563777204040811],
              [9.976917553763252, 53.563778144117002],
              [9.9767649532983, 53.563778967871656],
              [9.976759689761254, 53.563772673637615],
              [9.976755597493565, 53.563772653121141],
              [9.976748757126456, 53.56377262807834],
              [9.976645728103012, 53.563772219891796],
              [9.976650242222382, 53.563779410156755],
              [9.976509119558319, 53.563774449856545],
              [9.976462043609812, 53.56377061834808],
              [9.976466383820883, 53.563779437041077],
              [9.976467271220594, 53.56378125455538],
              [9.975565186554563, 53.563790341227971],
              [9.975291778943726, 53.563793092183616],
              [9.972546100335318, 53.563736138544662],
              [9.97158906519736, 53.563702791655132],
              [9.971589119256828, 53.563701856364695],
              [9.971605064006701, 53.5634080397029],
              [9.971614023341148, 53.56324292970222],
              [9.97161522104571, 53.5632207442195],
              [9.970573192399351, 53.56320056527511],
              [9.970570830945098, 53.563222724232624],
              [9.970568396196153, 53.563245638856955],
              [9.970570209347072, 53.563245696056221],
              [9.970558375029496, 53.563377075766986],
              [9.970602828413725, 53.563381811794358],
              [9.970675504583147, 53.563388008700343],
              [9.97065086737523, 53.563542495049248],
              [9.970399177543937, 53.563533561712745],
              [9.969702211037484, 53.563508840364371],
              [9.969344276191588, 53.563496145766848],
              [9.96918231610017, 53.563490392863294],
              [9.968731327975339, 53.563474396355652],
              [9.96871809076789, 53.563473928268358],
              [9.965651968341685, 53.563365082015984],
              [9.965679766982301, 53.563096043008116],
              [9.965690101716442, 53.563044659626051],
              [9.965710259194115, 53.562994320556513],
              [9.965898901680111, 53.562620582854315],
              [9.965934800701179, 53.562549451022356],
              [9.966172494860386, 53.562459331668585],
              [9.967071343356784, 53.562477021119861],
              [9.968040673614681, 53.56249610199859],
              [9.968183569083777, 53.562498927541],
              [9.968189096080904, 53.562399797561142],
              [9.968195031263898, 53.562293419178026],
              [9.968149491029182, 53.562272762629938],
              [9.967722692921017, 53.561481700693676],
              [9.96772071429576, 53.561482327950905],
              [9.967576147795384, 53.561217577226756],
              [9.967577891861218, 53.561217257493801],
              [9.967819464537328, 53.561173180819438],
              [9.968239550253255, 53.561096520987242],
              [9.968148256023598, 53.56092473493829],
              [9.968055108963126, 53.560835095909148],
              [9.967935945344651, 53.560607084604356],
              [9.967855521976578, 53.560459031089536],
              [9.967770499166836, 53.560306556211117],
              [9.967336174535768, 53.560388785885635],
              [9.967296384988925, 53.560315011706869],
              [9.96723303220752, 53.560190451690197],
              [9.967201845832344, 53.560129129524775],
              [9.967194100463422, 53.560113892951939],
              [9.967140433174892, 53.560117401133496],
              [9.967026993178797, 53.560124817355579],
              [9.967086559375117, 53.559633943197753],
              [9.967183945520942, 53.558831448548077],
              [9.967199105577638, 53.558706469319525],
              [9.9672243439007, 53.558498476449223],
              [9.967234955716748, 53.558411053905324],
              [9.967288151506372, 53.557972681590492],
              [9.967296793147511, 53.55790148206124],
              [9.967328103285015, 53.557643362533653],
              [9.967588635899354, 53.557514753506965],
              [9.967617179102486, 53.557500661615762],
              [9.967658933899333, 53.557480044712712],
              [9.967667696972663, 53.557475722036756],
              [9.967670175861226, 53.557358099402038],
              [9.967353993819581, 53.557350850109216],
              [9.965782090074867, 53.55718102334275],
              [9.96463035716827, 53.557072634309378],
              [9.964633707973386, 53.557215289034495],
              [9.964413640595199, 53.557203769039134],
              [9.964392632340191, 53.557212201983418],
              [9.964374286688576, 53.557222608105477],
              [9.964359120791611, 53.55723469289341],
              [9.964347560217822, 53.557248117628987],
              [9.964339931508063, 53.557262503942006],
              [9.964299669763143, 53.55738667842639],
              [9.964107545834388, 53.557814079134069],
              [9.964025708870114, 53.557954366945673],
              [9.963915725806494, 53.558087658004787],
              [9.963755865012088, 53.558354659795853],
              [9.963556924629946, 53.558454619797558],
              [9.963408733801622, 53.558529082520018],
              [9.963124934002471, 53.558671694723557],
              [9.962904421611039, 53.558782497218488],
              [9.962706775522681, 53.55888178917084],
              [9.962524757497958, 53.558973251493505],
              [9.962356008317824, 53.559058026860448],
              [9.962282194490092, 53.55909511589531],
              [9.961844204764514, 53.559315182766085],
              [9.96171800007834, 53.559387444039935],
              [9.961613926876359, 53.559447023615256],
              [9.961117812391702, 53.559730684493189],
              [9.961102356420875, 53.559739509995346],
              [9.960652462959944, 53.559958499518608],
              [9.960582741037156, 53.559985747676748],
              [9.960093714107334, 53.560176275712259],
              [9.959893535458002, 53.560248301807469],
              [9.959818008287062, 53.560130523423069],
              [9.95976764660475, 53.560051986577456],
              [9.959737900075188, 53.560045789177281],
              [9.959685910850549, 53.559922014975641],
              [9.959591365802508, 53.559696998031924],
              [9.959539746179907, 53.559574173626459],
              [9.959510385133829, 53.55950426837699],
              [9.959457823753954, 53.559379168295074],
              [9.959404528484297, 53.559252312240737],
              [9.959351378538353, 53.559125859498408],
              [9.959298754478722, 53.559000616021791],
              [9.95923974674178, 53.558860115531054],
              [9.959201946590991, 53.558770151616947],
              [9.95917252345051, 53.558700120932023],
              [9.959142941537326, 53.558629740943502],
              [9.95911229006559, 53.558556789694357],
              [9.959076660161907, 53.558471976983164],
              [9.959067884706231, 53.558451103089027],
              [9.958995382000129, 53.558278566182949],
              [9.958959432801933, 53.558192964966864],
              [9.958950864459016, 53.558172565817571],
              [9.95894113124794, 53.558149389431406],
              [9.958920834439128, 53.558101029788446],
              [9.958874115812522, 53.55798980647964],
              [9.958799122669941, 53.557811212880232],
              [9.958786788482698, 53.557781827985991],
              [9.958724017195191, 53.557632296528936],
              [9.958625236728517, 53.557397101272237],
              [9.958564925734796, 53.557253509684138],
              [9.958499077175162, 53.557096667777394],
              [9.958441655010155, 53.556959956489656],
              [9.95844009152909, 53.556956238602233],
              [9.958418069558636, 53.556904971282734],
              [9.958398516952977, 53.556859428113967],
              [9.958276311161733, 53.55657281466744],
              [9.958244763522977, 53.55649881865461],
              [9.95820628254941, 53.556408599181303],
              [9.958167928581553, 53.556318648346057],
              [9.958125303937411, 53.55621873599091],
              [9.958093661195987, 53.556144515973813],
              [9.95806208320427, 53.556070484197257],
              [9.958033294268867, 53.556002965042232],
              [9.957993922081787, 53.555910676186421],
              [9.957968496102687, 53.555851013392747],
              [9.957988518797588, 53.555831203160714],
              [9.957962872851628, 53.555767146527643],
              [9.957948697482651, 53.555731717731888],
              [9.957914035703427, 53.55571962654264],
              [9.957740997490941, 53.555311529381221],
              [9.957667714974896, 53.555138737185509],
              [9.957527210932513, 53.554807450503155],
              [9.957502477868308, 53.554751674275472],
              [9.957471096778608, 53.554680921726572],
              [9.95744302350319, 53.554614259631684],
              [9.957362010518482, 53.554421897238498],
              [9.95730609045466, 53.554289209390504],
              [9.957240662474357, 53.554133864538045],
              [9.957234553349487, 53.554119351320978],
              [9.9571309439247, 53.553873451598314],
              [9.95709373306067, 53.553785118251405],
              [9.957033682849689, 53.553642584453961],
              [9.956999647370175, 53.553561830325705],
              [9.956963059329844, 53.553474984119148],
              [9.95694618524794, 53.553434947476632],
              [9.956934569007267, 53.553357654473643],
              [9.956927908410311, 53.553313338264573],
              [9.956926634591843, 53.553309734894981],
              [9.956871450766679, 53.55315402021494],
              [9.956915275509436, 53.553145489630026],
              [9.956804895537903, 53.552855552925735],
              [9.956805256535075, 53.552855496104002],
              [9.956687062055844, 53.552569711775952],
              [9.956635062255886, 53.552443985642618],
              [9.95657710667952, 53.552303816917203],
              [9.956547536151632, 53.552307837776972],
              [9.956534573550513, 53.552279895895133],
              [9.956520754851455, 53.552250136099744],
              [9.956495369417619, 53.552195425565451],
              [9.956390940563365, 53.551970350142781],
              [9.956314260494807, 53.551805027092726],
              [9.956271387122067, 53.55167694462105],
              [9.956236768462754, 53.551559475018209],
              [9.956191821219797, 53.551407004066618],
              [9.956127291030754, 53.551163208993664],
              [9.95612009439073, 53.551142600904903],
              [9.956121569521219, 53.551142418321717],
              [9.95611715180895, 53.5510971043282],
              [9.956116910336149, 53.551094427548108],
              [9.956054586795478, 53.550580181862138],
              [9.956031769096217, 53.550430383427553],
              [9.955978158724784, 53.550122490547928],
              [9.955942618024302, 53.549984776074126],
              [9.955882169953396, 53.549750494475326],
              [9.955833432004136, 53.549561612394882],
              [9.95582990997354, 53.549547986308006],
              [9.955827310468729, 53.549546496937857],
              [9.955671575583887, 53.549542599810103],
              [9.955620043691685, 53.549517734618654],
              [9.955568506777656, 53.549391473936282],
              [9.95524643203597, 53.549040061499909],
              [9.955208908242096, 53.548980359876033],
              [9.955204564146142, 53.548962389677662],
              [9.955129125139822, 53.548844355839648],
              [9.955045956603461, 53.548697403258664],
              [9.95511978213381, 53.548613090471974],
              [9.955039196609022, 53.548561400277507],
              [9.954967110648759, 53.548515152394877],
              [9.955002998418516, 53.548504231878049],
              [9.955166686594493, 53.548443912101639],
              [9.955172465250987, 53.548441807475911],
              [9.955383401615455, 53.548345585639531],
              [9.95544075974448, 53.548321612283736],
              [9.955731290627574, 53.548192950955709],
              [9.955987776892778, 53.548079356896132],
              [9.956086261791414, 53.548053301618722],
              [9.956285878448982, 53.548002122484725],
              [9.956321216827371, 53.547992976787931],
              [9.956399981118892, 53.547972571201882],
              [9.956559106977187, 53.54793500110334],
              [9.956720765094596, 53.547895954321653],
              [9.956802832922769, 53.547876151268618],
              [9.956863539263546, 53.547861498961524],
              [9.956869709005769, 53.547860011362609],
              [9.957111708585415, 53.547800275810509],
              [9.957120601042162, 53.54777363325622],
              [9.956975759328012, 53.547708390857757],
              [9.956771923619133, 53.547616581452417],
              [9.956682494109469, 53.547576298197868],
              [9.956774971912392, 53.547506145580556],
              [9.956898151449504, 53.547412699526674],
              [9.957222535420684, 53.547434310877591],
              [9.957255908518148, 53.547417027637628],
              [9.957272105570768, 53.547332185956733],
              [9.957393810805835, 53.546684635203917],
              [9.957404867928332, 53.546638900700444],
              [9.957423310151913, 53.546562616488735],
              [9.957453531303857, 53.546443162829668],
              [9.957467179854389, 53.546389209630831],
              [9.957562859429663, 53.546393540311755],
              [9.957767422865258, 53.546402787846681],
              [9.957891204751567, 53.546391063623659],
              [9.957891535877744, 53.546378323601175],
              [9.95789351406548, 53.546298162100726],
              [9.957893934584936, 53.5462847022444],
              [9.957889177152863, 53.546148872067299],
              [9.957888642490728, 53.546133882747519],
              [9.957953126274008, 53.546152297004866],
              [9.957977958023777, 53.5461610493103],
              [9.957999869885139, 53.54617223044928],
              [9.958018200715532, 53.546185502340954],
              [9.958021359084658, 53.546188353510352],
              [9.958031450601242, 53.546191454764092],
              [9.958154085577453, 53.546229214746376],
              [9.958368752774168, 53.546283219081559],
              [9.958594821000334, 53.546316896575874],
              [9.958826900303272, 53.546329442718331],
              [9.959228586765107, 53.546332594685502],
              [9.959534536605878, 53.546336234822789],
              [9.959535891214653, 53.546382777835667],
              [9.959902741887406, 53.546373146063566],
              [9.960111108160085, 53.546367680076443],
              [9.960117120314282, 53.546280555640728],
              [9.960123325510237, 53.546190625094361],
              [9.960126770241915, 53.546140771567494],
              [9.960128658419571, 53.546113501845454],
              [9.960131217212632, 53.54607651864945],
              [9.960141033803094, 53.545934099463146],
              [9.960146077080227, 53.545860852782411],
              [9.960146712796105, 53.545851598025934],
              [9.960151568486653, 53.545781400111636],
              [9.960151669307356, 53.545779853198908],
              [9.960182520074676, 53.545333168169137],
              [9.960257265336626, 53.544250034868213],
              [9.961807016446359, 53.544336028971415],
              [9.963363476198776, 53.544338205860981],
              [9.966137260776698, 53.544131797648959],
              [9.968818223946267, 53.543660434600334],
              [9.969746788155675, 53.543428102900229],
              [9.969984727376474, 53.543363618847607],
              [9.97067542814222, 53.543176437011468],
              [9.97092687129074, 53.54351684914311],
              [9.972035205783715, 53.544996412201556],
              [9.972147996898364, 53.545146231620663],
              [9.972274542780649, 53.545321288036646],
              [9.972342125309792, 53.545406196821801],
              [9.970529890436914, 53.545866303764974],
              [9.969540076854756, 53.546118446175051],
              [9.96965834163106, 53.54624255099332],
              [9.969791710043875, 53.546347365117526],
              [9.969942704147467, 53.546443324023244],
              [9.970830081303227, 53.547015849904248],
              [9.97094460696429, 53.547113540030786],
              [9.971034145699601, 53.547220085724462],
              [9.971096807523601, 53.547333236265764],
              [9.971131266696867, 53.54745060150519],
              [9.971135254354353, 53.547572702374026],
              [9.971096851058453, 53.547711466953956],
              [9.971022189104595, 53.54784488983254],
              [9.970363200254472, 53.548740677654585],
              [9.969540169676851, 53.549876628622492],
              [9.96950255935915, 53.550063014258619],
              [9.96995854761237, 53.55075800284564],
              [9.970098271208336, 53.550971004878264],
              [9.971222340116279, 53.552250289225341],
              [9.972933834053807, 53.554131712097288],
              [9.97449834217905, 53.555845081826504],
              [9.974703473791132, 53.556039774310101],
              [9.975191692972384, 53.556409169385155],
              [9.975619617967807, 53.556732949896144],
              [9.97611832285544, 53.557109240101134],
              [9.976790239029366, 53.557572637139856],
              [9.976982899264405, 53.557705502578145],
              [9.977923204862497, 53.558207879141733],
              [9.97889719070171, 53.558803395053587],
              [9.979073424590689, 53.558902028552794],
              [9.979272081354276, 53.558984176717246],
              [9.979488851760904, 53.559048058054351],
              [9.980228547985091, 53.559230002509437],
              [9.982137687562677, 53.559737750847759],
              [9.982253169783297, 53.559768461681607],
              [9.983222192571381, 53.560039634356443],
              [9.985810467023558, 53.560682920417854],
              [9.987121548226877, 53.561019027748564],
              [9.987280788659401, 53.561047028285451],
              [9.987445687311563, 53.561058597701127],
              [9.98761149847069, 53.561053401215645],
              [9.987773446986809, 53.561031590621383],
              [9.987926869942243, 53.560993792325846],
              [9.988067352280598, 53.560941095441528],
              [9.988270495578739, 53.560808366918742],
              [9.989172919330031, 53.560144226763398],
              [9.989331810872235, 53.560046712605867],
              [9.989515139828304, 53.559965814436737],
              [9.989688349933937, 53.559917782502431],
              [9.989814054028791, 53.559865360426606],
              [9.989922710858007, 53.55980082913284],
              [9.990200723021918, 53.56012178939514],
              [9.990129986949107, 53.560176578495131],
              [9.99012925084487, 53.560175442988871],
              [9.990122358268435, 53.56017703716077],
              [9.990108519215253, 53.560170805503951],
              [9.990081925166884, 53.560191835121024],
              [9.99008888159179, 53.560194914689831],
              [9.990034521082444, 53.560237846554834],
              [9.99003311662976, 53.56023718400678],
              [9.990017120280795, 53.560249775130885],
              [9.990018719286233, 53.560250364156978],
              [9.98996391187827, 53.560293560368258],
              [9.989962522519546, 53.56029289769446],
              [9.989946793637344, 53.560305306815657],
              [9.98994808090022, 53.5603061231472],
              [9.989893516123557, 53.560349371250972],
              [9.98988879687067, 53.560347055196644],
              [9.989873068995969, 53.560359509244435],
              [9.989866996028473, 53.560356763932745],
              [9.98979276601146, 53.560415195311116],
              [9.989798808583243, 53.560417931889127],
              [9.989794568892867, 53.560421283905271],
              [9.98979943511052, 53.560423427956614],
              [9.989742700597148, 53.560468168136588],
              [9.989737806495263, 53.560466123192398],
              [9.989723294068597, 53.560477614331077],
              [9.989728087332646, 53.56047986685666],
              [9.989671640309464, 53.560524640578947],
              [9.989666594207337, 53.560522551944658],
              [9.989652007736437, 53.560534106609886],
              [9.989656755089362, 53.560536332551287],
              [9.989600247326889, 53.560581097752497],
              [9.989595276905456, 53.560579017478027],
              [9.989580510725965, 53.560590636543949],
              [9.989585241518391, 53.560592799702356],
              [9.989528764634187, 53.560637600569216],
              [9.989523975557617, 53.560635527780512],
              [9.989519794944814, 53.560638825364052],
              [9.989475391120429, 53.560618715824788],
              [9.989474842468427, 53.560619142845319],
              [9.989473743036868, 53.560618935306181],
              [9.989472599453963, 53.560618841393371],
              [9.989471446521717, 53.560618864414522],
              [9.989470315939336, 53.56061900410743],
              [9.98946924229914, 53.560619254792563],
              [9.989468255664983, 53.560619610827793],
              [9.989467584360417, 53.560619310756074],
              [9.989418682167223, 53.560658107196652],
              [9.989417005582977, 53.560657428914581],
              [9.989230203774365, 53.560805098760753],
              [9.989231880990584, 53.56080580400716],
              [9.989182375618494, 53.560844650281794],
              [9.989183016734772, 53.560844950604761],
              [9.989182688295905, 53.56084562749399],
              [9.989182547600368, 53.560846327100748],
              [9.989182597226831, 53.560847030526929],
              [9.989182835267428, 53.560847720709226],
              [9.989183256753366, 53.560848378811912],
              [9.98918385074078, 53.560848988745327],
              [9.989183361833593, 53.560849388303467],
              [9.989228469774385, 53.560869258414058],
              [9.989224200642814, 53.560872646608829],
              [9.989229109862332, 53.56087469144893],
              [9.989172497631371, 53.560919547195923],
              [9.98916754144707, 53.560917430830074],
              [9.9891529230473, 53.560928922773918],
              [9.989157759730515, 53.560931094062461],
              [9.989101160766799, 53.560975877753179],
              [9.989096402072121, 53.560973813685131],
              [9.989081813194709, 53.560985278408964],
              [9.989086650090444, 53.560987458687585],
              [9.989029900026676, 53.561032243593104],
              [9.989025033357967, 53.56103008153633],
              [9.98901065661064, 53.561041580453072],
              [9.989015316561957, 53.561043941977125],
              [9.988958854201154, 53.561088769413878],
              [9.988954101371938, 53.561086309776883],
              [9.988949923395722, 53.561089724174757],
              [9.988943656243174, 53.561087070311622],
              [9.988869486366504, 53.561145599481854],
              [9.988875574269118, 53.561148335731581],
              [9.988859145346728, 53.56116118196389],
              [9.988855069159605, 53.561156920732238],
              [9.988849936967821, 53.56115308442017],
              [9.988843871732735, 53.561149766395246],
              [9.988843428945858, 53.561149554320551],
              [9.98883782825594, 53.561147316524881],
              [9.988831799913223, 53.561145515532871],
              [9.988819665419605, 53.561143173546249],
              [9.988807042175745, 53.561142079672649],
              [9.988794290260012, 53.561142265992174],
              [9.988781773419916, 53.561143727700021],
              [9.988769846954247, 53.561146421408722],
              [9.988758851821968, 53.561150271489225],
              [9.988739528625503, 53.561159429185032],
              [9.988669839655806, 53.561199062324718],
              [9.98832719192035, 53.561432263457945],
              [9.98825329928964, 53.56149821483681],
              [9.988243116544652, 53.561511467812196],
              [9.988236660630767, 53.56152552507055],
              [9.988234102637325, 53.561540018448859],
              [9.988235507694585, 53.561554568074698],
              [9.988240841241876, 53.561568792202188],
              [9.98824996017926, 53.56158231627419],
              [9.988256416528358, 53.561588616334916],
              [9.98826447524837, 53.56159422358968],
              [9.988194357348721, 53.561637527489339],
              [9.988185313810682, 53.561633068167716],
              [9.988175142327181, 53.561629575489512],
              [9.988164129096775, 53.561627150463146],
              [9.988152586735014, 53.561625861518621],
              [9.988140846726987, 53.561625744569845],
              [9.988125671624738, 53.561627041198442],
              [9.988110970566227, 53.561629631916439],
              [9.988097054806449, 53.561633462016665],
              [9.988084215348602, 53.561638449992522],
              [9.988072723048838, 53.561644492031526],
              [9.986423565721804, 53.562646935492864],
              [9.986332195193739, 53.562694548471114],
              [9.986273155579871, 53.56272486070003],
              [9.986221634457403, 53.562759695281862],
              [9.986193152128905, 53.562778887853852],
              [9.985889861886069, 53.56295588191815],
              [9.985664706937737, 53.563081668411478],
              [9.98562451735712, 53.563103878732569],
              [9.98525463571794, 53.563288413279224],
              [9.984858015551506, 53.563452087700064],
              [9.984334692814302, 53.563620542943902],
              [9.984325755798602, 53.563622558105699],
              [9.984040121994463, 53.563689161439186],
              [9.983935842941808, 53.563709705115834],
              [9.98362043375599, 53.563765280208294],
            ],
          ],
        ],
      },
    },
  ],
});

export const MapContainer = () => {
  const [message, setMessage] = useState(data);
  const onMessage = async (text: string) => {
    try {
      if (text.includes("@geojson")) {
        setMessage(
          JSON.stringify({
            url: "http://localhost:5173/map/show",
          }),
        );
      }
    } catch (error) {
      alert("Sorry there was an error");
    }
  };
  return (
    <div className="w-full h-full relative">
      <div className="flex justify-center">
        <MapMessage message={message} onMessage={onMessage} />
      </div>
    </div>
  );
};
